(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,928685,e=>{"use strict";e.i(247167);var t=e.i(271645),a=e.i(757025),r=e.i(9583);function l(){return(l=Object.assign.bind()).apply(this,arguments)}let n=t.forwardRef((e,n)=>t.createElement(r.default,l({},e,{ref:n,icon:a.default})));e.s(["SearchOutlined",0,n],928685)},3912,e=>{"use strict";var t=e.i(331795),a=e.i(20835);e.s(["areaService",0,{list:async(e,r,l)=>{try{return await a.api.get(t.API_ENDPOINTS.AREAS.LIST.replace("{page}",e).replace("{page_size}",r).replace("{query}",l))}catch(e){throw e}},create:async e=>{try{let r=await a.api.post(t.API_ENDPOINTS.AREAS.CREATE,e);return{success:!0,data:r.data,message:"Área creada correctamente"}}catch(e){return{success:!1,error:e.response?.data?.detail||"Error al crear área"}}},update:async(e,r)=>{try{let l=t.API_ENDPOINTS.AREAS.UPDATE.replace("{pk}",e),n=await a.api.patch(l,r);return{success:!0,data:n.data,message:"Área actualizada correctamente"}}catch(e){return{success:!1,error:e.response?.data?.detail||"Error al actualizar área"}}},delete:async e=>{try{let r=t.API_ENDPOINTS.AREAS.DELETE.replace("{pk}",e);return await a.api.delete(r),{success:!0,message:"Área eliminada correctamente"}}catch(e){return{success:!1,error:e.response?.data?.detail||"Error al eliminar área"}}}}])},883552,e=>{"use strict";e.i(247167);var t=e.i(271645),a=e.i(490316),r=e.i(343794),l=e.i(914949),n=e.i(529681),s=e.i(242064),i=e.i(829672),o=e.i(285781),c=e.i(836938),u=e.i(920228),d=e.i(62405),p=e.i(408850),m=e.i(87414),f=e.i(310730);let g=(0,e.i(246422).genStyleHooks)("Popconfirm",e=>(e=>{let{componentCls:t,iconCls:a,antCls:r,zIndexPopup:l,colorText:n,colorWarning:s,marginXXS:i,marginXS:o,fontSize:c,fontWeightStrong:u,colorTextHeading:d}=e;return{[t]:{zIndex:l,[`&${r}-popover`]:{fontSize:c},[`${t}-message`]:{marginBottom:o,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${a}`]:{color:s,fontSize:c,lineHeight:1,marginInlineEnd:o},[`${t}-title`]:{fontWeight:u,color:d,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:i,color:n}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:o}}}}})(e),e=>{let{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}},{resetStyle:!1});var y=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)0>t.indexOf(r[l])&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(a[r[l]]=e[r[l]]);return a};let v=e=>{let{prefixCls:r,okButtonProps:l,cancelButtonProps:n,title:i,description:f,cancelText:g,okText:y,okType:v="primary",icon:b=t.createElement(a.default,null),showCancel:x=!0,close:h,onConfirm:O,onCancel:j,onPopupClick:E}=e,{getPrefixCls:S}=t.useContext(s.ConfigContext),[C]=(0,p.useLocale)("Popconfirm",m.default.Popconfirm),P=(0,c.getRenderPropValue)(i),N=(0,c.getRenderPropValue)(f);return t.createElement("div",{className:`${r}-inner-content`,onClick:E},t.createElement("div",{className:`${r}-message`},b&&t.createElement("span",{className:`${r}-message-icon`},b),t.createElement("div",{className:`${r}-message-text`},P&&t.createElement("div",{className:`${r}-title`},P),N&&t.createElement("div",{className:`${r}-description`},N))),t.createElement("div",{className:`${r}-buttons`},x&&t.createElement(u.default,Object.assign({onClick:j,size:"small"},n),g||(null==C?void 0:C.cancelText)),t.createElement(o.default,{buttonProps:Object.assign(Object.assign({size:"small"},(0,d.convertLegacyProps)(v)),l),actionFn:O,close:h,prefixCls:S("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},y||(null==C?void 0:C.okText))))};var b=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)0>t.indexOf(r[l])&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(a[r[l]]=e[r[l]]);return a};let x=t.forwardRef((e,o)=>{var c,u;let{prefixCls:d,placement:p="top",trigger:m="click",okType:f="primary",icon:y=t.createElement(a.default,null),children:x,overlayClassName:h,onOpenChange:O,onVisibleChange:j,overlayStyle:E,styles:S,classNames:C}=e,P=b(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:N,className:w,style:T,classNames:A,styles:I}=(0,s.useComponentConfig)("popconfirm"),[k,$]=(0,l.default)(!1,{value:null!=(c=e.open)?c:e.visible,defaultValue:null!=(u=e.defaultOpen)?u:e.defaultVisible}),z=(e,t)=>{$(e,!0),null==j||j(e),null==O||O(e,t)},R=N("popconfirm",d),D=(0,r.default)(R,w,h,A.root,null==C?void 0:C.root),F=(0,r.default)(A.body,null==C?void 0:C.body),[B]=g(R);return B(t.createElement(i.default,Object.assign({},(0,n.default)(P,["title"]),{trigger:m,placement:p,onOpenChange:(t,a)=>{let{disabled:r=!1}=e;r||z(t,a)},open:k,ref:o,classNames:{root:D,body:F},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},I.root),T),E),null==S?void 0:S.root),body:Object.assign(Object.assign({},I.body),null==S?void 0:S.body)},content:t.createElement(v,Object.assign({okType:f,icon:y},e,{prefixCls:R,close:e=>{z(!1,e)},onConfirm:t=>{var a;return null==(a=e.onConfirm)?void 0:a.call(void 0,t)},onCancel:t=>{var a;z(!1,t),null==(a=e.onCancel)||a.call(void 0,t)}})),"data-popover-inject":!0}),x))});x._InternalPanelDoNotUseOrYouWillBeFired=e=>{let{prefixCls:a,placement:l,className:n,style:i}=e,o=y(e,["prefixCls","placement","className","style"]),{getPrefixCls:c}=t.useContext(s.ConfigContext),u=c("popconfirm",a),[d]=g(u);return d(t.createElement(f.default,{placement:l,className:(0,r.default)(u,n),style:i,content:t.createElement(v,Object.assign({prefixCls:u},o))}))},e.s(["Popconfirm",0,x],883552)},980682,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(291542),l=e.i(464571),n=e.i(770914),s=e.i(311451),i=e.i(898586),o=e.i(158962),c=e.i(883552),u=e.i(928685),d=e.i(646563),p=e.i(751904),m=e.i(955135),f=e.i(3912),g=e.i(808613),y=e.i(212931);let v=({isModalOpen:e,onCancel:r,onSuccess:l,editingArea:n})=>{let[i]=g.Form.useForm(),{message:c}=o.App.useApp(),[u,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e&&(n?i.setFieldsValue({area:n.area}):i.resetFields())},[e,n,i]);let p=async e=>{d(!0);try{let t;(t=n?await f.areaService.update(n.id,e):await f.areaService.create(e)).success?(c.success(t.message),l(),r()):c.error(t.error)}catch(e){c.error("Error al guardar el área")}finally{d(!1)}};return(0,t.jsx)(y.Modal,{title:n?"Editar Área":"Nueva Área",open:e,onCancel:r,onOk:()=>i.submit(),confirmLoading:u,okText:n?"Actualizar":"Guardar",cancelText:"Cancelar",children:(0,t.jsx)(g.Form,{form:i,layout:"vertical",onFinish:p,children:(0,t.jsx)(g.Form.Item,{name:"area",label:"Nombre del Área",rules:[{required:!0,message:"Por favor ingrese el nombre del área"}],children:(0,t.jsx)(s.Input,{placeholder:"Ej. Administración"})})})})},{Title:b}=i.Typography;function x(){let{message:e}=o.App.useApp(),[i,g]=(0,a.useState)(""),[y,x]=(0,a.useState)([]),[h,O]=(0,a.useState)(0),[j,E]=(0,a.useState)(1),[S,C]=(0,a.useState)(!1),[P,N]=(0,a.useState)(!1),[w,T]=(0,a.useState)(null);(0,a.useEffect)(()=>{A(j,i)},[j]);let A=async(t,a="")=>{C(!0);try{let e=await f.areaService.list(t,15,a);x(e.results),O(e.count)}catch(t){console.error(t),e.error("Error al cargar áreas")}finally{C(!1)}},I=async t=>{C(!0);let a=await f.areaService.delete(t);a.success?(e.success(a.message),A(j,i)):e.error(a.error),C(!1)},k=[{title:"ID",dataIndex:"id",key:"id",width:70},{title:"Área",dataIndex:"area",key:"area"},{title:"Acciones",key:"actions",width:150,render:(e,a)=>(0,t.jsxs)(n.Space,{children:[(0,t.jsx)(l.Button,{icon:(0,t.jsx)(p.EditOutlined,{}),onClick:()=>{T(a),N(!0)},size:"small"}),(0,t.jsx)(c.Popconfirm,{title:"¿Estás seguro de eliminar este área?",onConfirm:()=>I(a.id),okText:"Sí",cancelText:"No",children:(0,t.jsx)(l.Button,{icon:(0,t.jsx)(m.DeleteOutlined,{}),danger:!0,size:"small"})})]})}];return(0,t.jsx)("div",{children:(0,t.jsxs)(n.Space,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)(b,{level:2,style:{margin:0},children:"Áreas de Trabajo"}),(0,t.jsx)(l.Button,{type:"primary",icon:(0,t.jsx)(d.PlusOutlined,{}),onClick:()=>{T(null),N(!0)},children:"Nueva Área"})]}),(0,t.jsx)(s.Input,{placeholder:"Buscar áreas...",prefix:(0,t.jsx)(u.SearchOutlined,{}),onChange:e=>{var t;g(t=e.target.value),E(1),A(1,t)},style:{maxWidth:400},allowClear:!0,value:i}),(0,t.jsx)(r.Table,{columns:k,dataSource:y,rowKey:e=>`${e.id}`,size:"small",loading:S,pagination:{current:j,pageSize:15,total:h,showSizeChanger:!1,showTotal:e=>`Total ${e} registros`},onChange:e=>{E(e.current)}}),(0,t.jsx)(v,{isModalOpen:P,onCancel:()=>{N(!1),T(null)},onSuccess:()=>{A(j,i)},editingArea:w})]})})}e.s(["default",()=>x],980682)}]);